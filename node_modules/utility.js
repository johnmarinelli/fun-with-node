function validateInput(input){
	if(typeof input === 'object'){	
		return true;
	}
}

module.exports.validateInput = validateInput;

var YQL = require('yql');

/*
*  DOES THIS FUNCTION MAKE MY CODE LOOK UGLY? :(
*/
function bigQuery(zip, symbol, callback){
	var weatherInfo = {
	    loc: '',
		zip: 0,
	    cond: '',
	    temp: 0,
	};

	var stockInfo = {
        company: '',
	    dayHigh: 0,
	    dayLow: 0,
	};
	
	//specifically here. but how do i execute 2 yql statements when the callback needs both
    var weatherYQL = new YQL.exec("SELECT * FROM weather.forecast WHERE (location = @zip)", function(response){
        weatherInfo.loc = response.query.results.channel.location.city;
		weatherInfo.zip = zip;
        weatherInfo.temp = parseFloat(response.query.results.channel.item.condition.temp);
        weatherInfo.cond = weatherInfo.temp;
	
	    var stockYQL = new YQL.exec("SELECT * FROM yahoo.finance.quote WHERE (symbol = @sym)", function(response){
	        stockInfo.company = response.query.results.quote.symbol;
			stockInfo.dayHigh = parseFloat(response.query.results.quote.DaysHigh);
	        stockInfo.dayLow = parseFloat(response.query.results.quote.DaysLow);

			callback(false, weatherInfo, stockInfo);
	    }, {"sym": symbol});

        console.log(weatherInfo.loc);
        console.log(weatherInfo.cond);
    }, {"zip": zip});
}

/*
* get weather information 
*/
function weatherQuery(zip, callback){
	var weatherInfo = {
	    loc: '',
	    cond: '',
	    temp: 0,
	};

    var weatherYQL = new YQL.exec("SELECT * FROM weather.forecast WHERE (location = @zip)", function(response){
        weatherInfo.loc = response.query.results.channel.location.city;
        weatherInfo.temp = parseFloat(response.query.results.channel.item.condition.temp);
        weatherInfo.cond = weatherInfo.temp + ' degrees; ' + response.query.results.channel.item.condition.text;

		callback(false, weatherInfo);

        console.log(weatherInfo.loc);
        console.log(weatherInfo.cond);
    }, {"zip": zip});
}

/*
*  get stock information for Yahoo
*/
function stockQuery(symbol, callback){
	var stockInfo = {
	    dayHigh: 0,
	    dayLow: 0,
	};

    var stockYQL = new YQL.exec("SELECT * FROM yahoo.finance.quote WHERE (symbol = @sym)", function(response){
        stockInfo.dayHigh = parseFloat(response.query.results.quote.DaysHigh);
        stockInfo.dayLow = parseFloat(response.query.results.quote.DaysLow);
    }, {"sym": symbol});

	return stockInfo;
}

module.exports.weatherQuery = weatherQuery;
module.exports.stockQuery = stockQuery;
module.exports.bigQuery = bigQuery;
