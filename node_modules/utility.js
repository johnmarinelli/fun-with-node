var locationSelection = 0;

function getInput(){
/*	$('#weatheroption').click(function(){
		locationSelection = parseInt($(this).val());
		weatherQuery(locationSelection);
		console.log(locationSelection);
	});*/
}

module.exports.locationSelection = locationSelection;

var YQL = require('yql');

/*
* get weather information for sunnyvale, CA (Yahoo's HQ)
*/
function weatherQuery(zip){
    var weatherYQL = new YQL.exec("SELECT * FROM weather.forecast WHERE (location = @zip)", function(response){
        weatherInfo.loc = response.query.results.channel.location.city;
        weatherInfo.temp = parseFloat(response.query.results.channel.item.condition.temp);
        weatherInfo.cond = weatherInfo.temp + ' degrees; ' + response.query.results.channel.item.condition.text;

        console.log(weatherInfo.loc);
        console.log(weatherInfo.cond);
    }, {"zip": 94089});

	var weatherInfo = {
	    loc: '',
	    cond: '',
	    temp: 0,
	};

	return weatherInfo;
}

/*
*  get stock information for Yahoo
*/
function stockQuery(symbol){
    var stockYQL = new YQL.exec("SELECT * FROM yahoo.finance.quote WHERE (symbol = @sym)", function(response){
        stockInfo.dayHigh = parseFloat(response.query.results.quote.DaysHigh);
        stockInfo.dayLow = parseFloat(response.query.results.quote.DaysLow);
    }, {"sym": symbol});

		var stockInfo = {
	    dayHigh: 0,
	    dayLow: 0,
	};

	return stockInfo;
}

module.exports.weatherQuery = weatherQuery;
module.exports.stockQuery = stockQuery;
